{

	// Define the tags which can be applied to devices and by which users.
	"tagOwners": {
		"tag:server":          ["autogroup:admin"],
		"tag:friends":         ["autogroup:admin"],
		"tag:personal-device": ["autogroup:admin"],
	},

	// Define access control rules
	"acls": [
		// Admin can access everything
		{
			"action": "accept",
			"src":    ["autogroup:admin"],
			"dst":    ["*:*"],
		},
		// Personal devices can access everything too
		{
			"action": "accept",
			"src":    ["tag:personal-device"],
			"dst":    ["*:*"],
		},
		// Friends can see Port 25565 for MC
		{
			"action": "accept",
			"src":    ["tag:friends"],
			"dst":    ["tag:server:25565"],
		},
		// Friends can see Port 7777 for Terraria
		{
			"action": "accept",
			"src":    ["tag:friends"],
			"dst":    ["tag:server:7777"],
		},
		// Friends can see each other
		{
			"action": "accept",
			"src":    ["tag:friends"],
			"dst":    ["tag:friends:*"],
		},
	],

	"grants": [

	],

	// Define users and devices that can use Tailscale SSH.
	"ssh": [
		// Allow all users to SSH into their own devices in check mode.
		{
			"action": "check",
			"src":    ["autogroup:member"],
			"dst":    ["autogroup:self"],
			"users":  ["autogroup:nonroot", "root"],
		},
	],

}
